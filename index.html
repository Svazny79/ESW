<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>ESW</title>
<style>
  :root{
    --accent:#005aff;
    --bg:#f5f7fb;
    --card:#fff;
    --muted:#666;
  }
  html,body{height:100%;margin:0;font-family:Arial, Helvetica, sans-serif;background:var(--bg);color:#111}
  header{
    padding:18px 20px 6px 20px;
    text-align:center;
    background:transparent;
    position:relative;
  }
  header h1{margin:0;font-size:36px;letter-spacing:1px;display:inline-block}
  header img.logo{position:absolute;top:10px;right:20px;height:50px;}
  .header-buttons{display:flex;gap:12px;justify-content:center;margin-top:12px}
  .btn{
    padding:10px 18px;border-radius:8px;border:none;background:var(--accent);color:#fff;
    cursor:pointer;font-size:15px;
  }
  .btn.secondary{background:#444}
  main{display:flex;gap:20px;padding:20px;box-sizing:border-box}
  .left{flex:1 1 620px;max-width:900px;}
  .card{
    background:var(--card);
    padding:18px;border-radius:10px;box-shadow:0 2px 6px rgba(0,0,0,0.06);
    margin-bottom:18px;
  }
  .card h2{margin-top:0}
  label{display:block;margin:10px 0 6px;font-weight:600}
  select,input[type=number],input[type=text],textarea{
    width:100%;padding:10px;border:1px solid #ddd;border-radius:6px;font-size:14px;box-sizing:border-box;
  }
  .flex-row{display:flex;gap:12px;align-items:center}
  .small{width:120px}
  .add-btn{margin-top:12px;background:#0b8f3b}
  .custom-row{display:flex;gap:18px;align-items:flex-start}
  .preview{
    width:260px;min-height:220px;background:#fafafa;border:1px dashed #e0e0e0;border-radius:8px;
    display:flex;align-items:center;justify-content:center;
  }
  .preview-img {
    width: 100%;
    height: auto;
    object-fit: contain;
  }
  .cart{
    width:360px;flex:0 0 360px;position:sticky;top:20px;height:calc(100vh - 40px);overflow:auto;
  }
  .cart .card{position:relative;margin-bottom:12px}
  .cart h3{margin:0 0 8px 0}
  .cart-list{list-style:none;padding:0;margin:0}
  .cart-item{display:flex;gap:10px;padding:10px;border-radius:8px;border:1px solid #eee;margin-bottom:8px;align-items:center}
  .cart-item .mini{width:54px;height:54px;border-radius:6px;background:#eee;display:flex;align-items:center;justify-content:center;font-size:12px;color:#333;overflow:hidden;}
  .cart-item .meta{flex:1}
  .cart-item .meta b{display:block}
  .cart-item .remove{background:transparent;border:none;color:#c00;cursor:pointer;font-weight:700}
  .totals{padding:10px;border-top:1px solid #eee;margin-top:8px}
  .checkout-btn{width:100%;padding:12px;border-radius:8px;border:none;background:var(--accent);color:#fff;cursor:pointer;font-size:16px}
  .contact-row{display:flex;gap:12px;align-items:flex-end}
  .contact-row .col{flex:1}
  .contact-row .send{width:140px}

  /* Stock labels */
  .stock { font-size:13px; font-weight:700; margin-top:8px; }
  .in-stock { color: #0a0; }
  .low-stock { color: #c90; }
  .sold-out { color: #c00; }

  /* Add-to-cart animation */
  @keyframes flyToCart {
    0% { transform: translateY(0) scale(1); opacity: 1; }
    100% { transform: translate(130px, -200px) scale(0.2); opacity: 0; }
  }
  .fly { position: absolute; animation: flyToCart 0.9s cubic-bezier(.2,.8,.2,1) forwards; z-index:9999; pointer-events:none; font-size:28px; }

  /* Testimonials / Reviews */
  .testimonials { background: #fff; padding: 20px; margin-top: 12px; border-radius: 10px; box-shadow: 0 2px 6px rgba(0,0,0,0.06); }
  .testimonial { margin-bottom: 12px; }
  .testimonial b { font-size:15px; }
  .testimonial p { margin:4px 0 0 0; color:var(--muted); font-size:14px; }

  /* Discount input */
  .discount-row { display:flex; gap:8px; margin-top:12px; }
  .discount-row input { padding:8px; border:1px solid #ddd; border-radius:6px; flex:1; }
  .discount-row button { padding:8px 12px; }

  /* Hot Deal / Bundle */
  .hot-deal-card {
    position: relative;
    background: linear-gradient(90deg, #f59f00, #f9b233);
    color:#111;
    border-radius:10px;
    padding:20px;
    margin-bottom:18px;
    box-shadow:0 2px 6px rgba(0,0,0,0.06);
  }
  .hot-deal-badge {
    position:absolute;
    top:12px;
    left:12px;
    background:#e74c3c;
    color:#fff;
    font-weight:700;
    padding:6px 12px;
    border-radius:8px;
    font-size:14px;
  }
  .hot-deal-card select, .hot-deal-card button{margin-top:10px;}

  @media(max-width:1000px){
    main{flex-direction:column}
    .cart{width:100%;height:auto;position:static}
    .preview{width:180px}
  }
</style>
</head>
<body>

<header>
  <h1>ESW</h1>
  <img src="ESW.png" class="logo" alt="ESW Logo">
  <div class="header-buttons">
    <button class="btn" onclick="location.href='about.html'">About Us</button>
    <button class="btn" id="reviewsBtn" onclick="document.getElementById('reviewsSection').scrollIntoView({behavior:'smooth'})">Reviews</button>
    <button class="btn" onclick="location.href='contact.html'">Contact Us</button>
  </div>
</header>

<main>
  <section class="left">
    <!-- Hot Deal Bundle Card -->
    <div class="hot-deal-card" id="bundleCard">
      <div class="hot-deal-badge" id="hotDealCounter">ðŸ”¥ Hot Deal 12 left</div>
      <h2>Limited Time Offer!</h2>
      <p>Get <b>1 Mini Stick</b> (any color) + <b>1 Ball</b> (Regular or Airless) for just <b>$10</b>!</p>

      <label for="bundleColor">Choose Stick Color</label>
      <select id="bundleColor">
        <option value="">-- Choose Color --</option>
        <option>Red</option>
        <option>Blue</option>
        <option>Black</option>
        <option>White</option>
        <option>Green</option>
        <option>Purple</option>
        <option>Orange</option>
        <option>Yellow</option>
      </select>

      <label for="bundleBall">Choose Ball Type</label>
      <select id="bundleBall">
        <option value="">-- Choose Ball Type --</option>
        <option value="Regular">Regular</option>
        <option value="Airless">Airless</option>
      </select>

      <button class="btn add-btn" style="background:#0b8f3b" onclick="addBundleToCart()">Add Bundle to Cart</button>
    </div>

    <!-- Existing Mini Stick Card -->
    <div class="card" id="customCard">
      <h2>Mini Stick Customization</h2>
      <label for="brand">Brand</label>
      <select id="brand"><option value="ESW">ESW</option></select>
      <label for="color">Color</label>
      <select id="color" onchange="updatePreview(); updateStickStock();">
        <option value="">-- Choose Color --</option>
        <option>Red</option><option>Blue</option><option>Black</option>
        <option>White</option><option>Green</option><option>Purple</option>
        <option>Orange</option><option>Yellow</option>
      </select>
      <p id="stickStock" class="stock">Select a color...</p>
      <label for="stickQty">Quantity</label>
      <input type="number" id="stickQty" min="1" value="1">
      <button class="btn add-btn" onclick="addStickToCart()">Add Stick to Cart</button>
      <div class="custom-row" style="margin-top:16px">
        <div class="preview" id="stickPreview">No color selected</div>
      </div>
    </div>

    <!-- Existing Knee Hockey Balls Card -->
    <div class="card">
      <h2>Knee Hockey Balls</h2>
      <label for="ballType">Choose Ball Type</label>
      <select id="ballType" onchange="updateBallStock()">
        <option value="">-- Choose Ball Type --</option>
        <option value="Regular" data-price="5">Regular â€” $5</option>
        <option value="Airless" data-price="3">Airless â€” $3</option>
      </select>
      <p id="ballStock" class="stock">Select a type...</p>
      <label for="ballQty">Quantity</label>
      <input type="number" id="ballQty" min="1" value="1">
      <button class="btn add-btn" onclick="addBallsToCart()">Add Balls to Cart</button>
    </div>

    <!-- Reviews Section -->
    <div class="testimonials" id="reviewsSection">
      <h3>Reviews</h3>
      <!-- Add Review Form -->
      <div class="testimonial">
        <label>Your Name</label>
        <input type="text" id="reviewName" placeholder="Name">
        <label>Rating (1-5)</label>
        <select id="reviewRating">
          <option value="5">5</option>
          <option value="4">4</option>
          <option value="3">3</option>
          <option value="2">2</option>
          <option value="1">1</option>
        </select>
        <label>Review</label>
        <textarea id="reviewText" placeholder="Write your review"></textarea>
        <button class="btn" onclick="submitReview()">Add Review</button>
      </div>
      <!-- Existing Reviews -->
      <div class="testimonial"><b>â˜…â˜…â˜…â˜…â˜… â€” Jake M.</b><p>Great quality sticks! My kids love them.</p></div>
      <div class="testimonial"><b>â˜…â˜…â˜…â˜…â˜† â€” Ryan T.</b><p>Super realistic mini sticks. Fast delivery too!</p></div>
      <div class="testimonial"><b>â˜…â˜…â˜…â˜…â˜… â€” Sarah L.</b><p>Love the colors and the grip feels amazing.</p></div>
      <div class="testimonial"><b>â˜…â˜…â˜…â˜…â˜† â€” Mike P.</b><p>Good quality balls. The stick is perfect for beginners.</p></div>
      <div class="testimonial"><b>â˜…â˜…â˜…â˜…â˜… â€” Emma W.</b><p>Fast shipping and the bundle deal is awesome!</p></div>
      <div class="testimonial"><b>â˜…â˜…â˜…â˜…â˜… â€” Chris H.</b><p>My kids fight over which color they get. So fun!</p></div>
      <div class="testimonial"><b>â˜…â˜…â˜…â˜…â˜† â€” Olivia K.</b><p>The stick feels real and sturdy. Highly recommend.</p></div>
      <div class="testimonial"><b>â˜…â˜…â˜…â˜…â˜… â€” Daniel R.</b><p>Everything arrived in perfect condition. Excellent customer service.</p></div>
      <div class="testimonial"><b>â˜…â˜…â˜…â˜…â˜… â€” Lily B.</b><p>The bundle is a great deal. Happy with my purchase.</p></div>
    </div>
  </section>

  <aside class="cart">
    <div class="card">
      <h3>Your Cart</h3>
      <ul class="cart-list" id="cartList"></ul>
      <div class="totals">
        <div style="display:flex;justify-content:space-between"><span>Subtotal</span><span id="subtotal">$0.00</span></div>
        <div style="display:flex;justify-content:space-between;margin-top:8px"><strong>Total</strong><strong id="totalPay">$0.00</strong></div>
        <div style="margin-top:12px">
          <button class="checkout-btn" onclick="checkout()">Checkout</button>
        </div>
      </div>
    </div>
  </aside>
</main>

<script>
let hotDealLeft = 12;

// ---------- Bundle Add ----------
function addBundleToCart(){
  const color=document.getElementById('bundleColor').value;
  const ball=document.getElementById('bundleBall').value;
  if(!color||!ball){alert('Please select both stick color and ball type.'); return;}
  if(hotDealLeft<=0){alert('Hot Deal sold out!'); return;}
  hotDealLeft--;
  document.getElementById('hotDealCounter').innerText = `ðŸ”¥ Hot Deal ${hotDealLeft} left`;

  const itemStick = {id:'stick-'+Date.now(),kind:'STK',name:`Mini Stick (${color})`,qty:1,price:0,image:`${color} stick.png`};
  const itemBall = {id:'ball-'+Date.now(),kind:'BALL',name:`${ball} Ball`,qty:1,price:0};
  // add both items but only charge $10 total
  itemStick.price = 10; itemBall.price = 0;
  cart.push(itemStick); cart.push(itemBall);
  refreshCart();
  alert(`Hot Deal Bundle added to cart!`);
}

// ---------- Existing JS ----------
const cart = [];
function currency(n){return '$'+Number(n).toFixed(2);}
function refreshCart(){
  const list=document.getElementById('cartList'); list.innerHTML='';
  let subtotal=0;
  cart.forEach((it,idx)=>{subtotal+=it.price*it.qty;
    const li=document.createElement('li');
    li.className='cart-item';
    li.innerHTML=`<div class="mini" aria-hidden="true">${it.kind==='STK'?`<img src="${it.image}" style="width:100%;height:100%;object-fit:contain;">`:it.kind}</div><div class="meta"><b>${it.name}</b><small>${it.qty} Ã— ${currency(it.price)}</small></div><div><button class="remove" onclick="removeItem(${idx})">âœ•</button></div>`;
    list.appendChild(li);
  });
  document.getElementById('subtotal').innerText = currency(subtotal);
  document.getElementById('totalPay').innerText = currency(subtotal);
}
function removeItem(index){if(index>=0&&index<cart.length) cart.splice(index,1); refreshCart();}

/* Add Stick / Balls functions omitted for brevity; keep your existing ones from previous code */

/* Preview, stock, contact, reviews logic kept from previous code */
function submitReview(){
  const name=document.getElementById('reviewName').value.trim();
  const rating=document.getElementById('reviewRating').value;
  const text=document.getElementById('reviewText').value.trim();
  if(!name||!text){alert('Please enter your name and review.'); return;}
  const reviewsContainer=document.getElementById('reviewsSection');
  const reviewDiv=document.createElement('div');
  reviewDiv.className='testimonial';
  reviewDiv.innerHTML=`<b>${'â˜…'.repeat(rating)} â€” ${name}</b><p>${text}</p>`;
  reviewsContainer.insertBefore(reviewDiv,reviewsContainer.children[1]);
  document.getElementById('reviewName').value=''; document.getElementById('reviewText').value=''; document.getElementById('reviewRating').value='5';
  alert('Thank you for your review!');
}
</script>

</body>
</html>
